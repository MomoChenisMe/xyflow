# 基本測試指南

## 測試最基本的拖拉功能

1. **啟動開發服務器**:
   ```bash
   pnpm dev
   # 或
   npm start
   ```

2. **測試路由**:

   **A. 測試基本滑鼠事件**:
   - 訪問: http://localhost:4200/test-drag
   - 應該看到三個測試框
   - 點擊每個測試框，觀察日誌輸出
   - 嘗試拖拉第三個測試框（橘色的）

   **B. 測試實際的流程組件**:
   - 訪問: http://localhost:4200/ (預設路由)
   - 訪問: http://localhost:4200/basic 
   - 訪問: http://localhost:4200/basic-old (舊版)

3. **檢查預期行為**:

   **基本測試 (test-drag)**:
   - 第一個藍色框：應該記錄所有滑鼠事件
   - 第二個藍色框：模擬節點樣式，檢查事件是否被阻擋
   - 第三個橘色框：實際的拖拉實現，應該能拖動

   **流程測試**:
   - 節點應該能被拖拉
   - Console 應該顯示拖拉事件日誌
   - 節點位置應該實際更新

4. **調試資訊收集**:
   - 打開瀏覽器的開發者工具
   - 檢查 Console 日誌
   - 檢查 Network 標籤是否有載入錯誤
   - 檢查 Elements 標籤中的 DOM 結構

5. **重點檢查項目**:
   - [ ] 基本滑鼠事件是否觸發？
   - [ ] 節點的 CSS 樣式是否正確？
   - [ ] 是否有 JavaScript 錯誤？
   - [ ] 事件是否被其他元素攔截？
   - [ ] NodeWrapper 是否正確渲染？

## 預期問題分析

如果基本測試（test-drag）正常工作，但流程節點無法拖拉，可能的問題：

1. **CSS 問題**：
   - `pointer-events: none` 在錯誤的元素上
   - `z-index` 層級問題
   - 容器元素阻擋了事件

2. **事件處理問題**：
   - 事件被父容器攔截
   - 事件處理器沒有正確綁定
   - `preventDefault()` 或 `stopPropagation()` 使用錯誤

3. **組件層次問題**：
   - NodeWrapper 沒有被正確渲染
   - 事件傳遞鏈中斷
   - 服務注入問題

4. **狀態管理問題**：
   - 拖拉事件觸發但位置更新失敗
   - Store 狀態沒有正確更新
   - 變更檢測沒有觸發

請按照這個順序進行測試，並報告每個步驟的結果。